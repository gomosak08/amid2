<!-- app/views/admin/appointments/_doctor_date_form.html.erb -->
<%= turbo_frame_tag "doctor_date_frame" do %>
  <%= form_with url: available_fields_admin_appointments_path(format: :turbo_stream),
                method: :get,
                local: false,
                id:      "appointment-form",
                class:   "space-y-6",
                data:    { turbo_frame: "available_times_frame" } do |f| %>

    <%= f.hidden_field :package_id, value: package.id %>

    <div class="field">
      <%= f.label :doctor_id, "Select a doctor", class: "block text-lg font-medium text-gray-700 mb-2" %>
      <%= f.select :doctor_id,
                   doctors.map { |d| [d.name, d.id] },
                   { prompt: "Select a doctorâ€¦" },
                   class: "block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" %>
    </div>

    <div class="field">
      <%= f.label :appointment_date, "Pick a date", class: "block text-lg font-medium text-gray-700 mb-2" %>
      <%= f.date_field :appointment_date,
                       value: appointment_date,
                       class: "block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" %>
    </div>

    <div class="actions">
      <%= f.submit "See Available Times", class: "bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors duration-200" %>
    </div>
  <% end %>
<% end %>
